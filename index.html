<!DOCTYPE html>
<html lang="en">
<head>
    <!-- META TAGS: Essential for SEO and mobile responsiveness -->
    <meta charset="UTF-8"> <!-- Character encoding -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Mobile responsive -->
    <title>Guila & Jeric - Wedding</title> <!-- Page title shown in browser tab -->
    
    <!-- EXTERNAL RESOURCES: Fonts and icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.lordicon.com/lordicon.js"></script> <!-- Lordicon library for animated icons -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- STYLESHEETS: Custom CSS files -->
    <link rel="stylesheet" href="style.css">

    <style>
        /* Make phone numbers look like regular text on all devices */
        .phone-link {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        .phone-link:hover,
        .phone-link:focus {
            text-decoration: none;
            color: inherit;
        }
    </style>

    <link rel="preload" href="bell.wav" as="fetch" crossorigin> <!-- Preload bell sound for performance -->
</head>
<body>
    <!-- NAVIGATION: Fixed at top of all pages -->
    <nav class="navbar">
        <div class="container nav-container">
            <!-- LOGO: Clickable link to home page -->
            <a href="index.html" class="logo">G&J</a>
            
            <!-- MOBILE MENU BUTTON: Only visible on mobile -->
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i> <!-- Hamburger icon -->
            </button>
            
            <!-- NAVIGATION LINKS: List of all pages -->
            <ul class="nav-links">
                <li><a href="index.html" class="active">Home</a></li> <!-- Current page -->
                <li><a href="story.html">Our Story</a></li>
                <li><a href="bigday.html">The Big Day</a></li>
                <li><a href="nuptials.html">Nuptials</a></li>
                <li><a href="greetings.html">Wish Greetings</a></li>
                <li><a href="rsvp.html">RSVP</a></li>
            </ul>
        </div>
    </nav>

    <!-- HERO SECTION: Full-screen banner with background -->
    <section class="hero home-hero">
        <div class="container">
            <div class="hero-content page-transition">
                <!-- MAIN HEADING: Couple names -->
                <h1>Guila & Jeric</h1>
                
                <!-- SUBTITLE: Wedding date -->
              <p class="subtitle">
                  September | 
                  <strong style="font-size: 2rem; vertical-align: middle; line-height: 0;">5</strong> 
                  | 2026
              </p>
                
                <!-- CLASSROOM THEME SECTION: High school nostalgia -->
                <div class="classroom-setup">
                    <h2>Waiting for the Bell to Ring</h2>
                    <p>Just like our high school days, waiting for the bell that signals recess or the end of class...</p>
                    <p>Now we're waiting for another bell - one that will mark the beginning of our forever together.</p>
                    
                    <!-- LORDICON BELL: Animated interactive bell -->
                    <!-- <div class="lordicon-bell"></div> -->
                    <!-- Lordicon Animated Bell -->
                    <lord-icon
                        id="weddingBell"
                        src="https://cdn.lordicon.com/qtpaiyhf.json"
                        trigger="in"
                        delay="150"
                        state="in-bell"
                        colors="primary:#ffffff"
                        style="width:200px;height:200px;cursor:pointer">
                    </lord-icon>
                    
                    <p><em>Click the bell above to hear our wedding bell chime!</em></p>
                </div>
                
                <!-- COUNTDOWN TIMER: Days until wedding -->
                <div class="countdown">
                    <h2 class="countdown-title">Counting Down to Our Special Day</h2>
                    <div class="countdown-container">
                        <!-- COUNTDOWN ITEMS: Display days, hours, minutes, seconds -->
                        <div class="countdown-item">
                            <span class="countdown-number" id="days">00</span>
                            <span class="countdown-label">Days</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="hours">00</span>
                            <span class="countdown-label">Hours</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="minutes">00</span>
                            <span class="countdown-label">Minutes</span>
                        </div>
                        <div class="countdown-item">
                            <span class="countdown-number" id="seconds">00</span>
                            <span class="countdown-label">Seconds</span>
                        </div>
                    </div>
                      <div>
                          <a href="rsvp.html" class="countdown-item" style="text-decoration: none; display: inline-block;">RSVP NOW</a>
                      </div>
                </div>
                
                
                <!-- WELCOME MESSAGE: Personal note to guests -->
                <div class="welcome-message">
                    <h2>A Warm Welcome</h2>
                    <p>Dear Family and Friends,</p>
                    <p>We are thrilled to invite you to share in our joy as we exchange vows and begin our journey together as husband and wife. This website is our way of keeping you informed about all the details of our special day.</p>
                    <p>Thank you for being a part of our lives and for sharing in this beautiful moment with us.</p>
                    <p>With love,</p>
                    <p class="signature">Guila & Jeric</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER: Consistent across all pages -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <!-- FOOTER SECTION 1: Basic info -->
                <div class="footer-section">
                    <h3>Guila & Jeric</h3>
                    <p>September 5, 2026</p>
                    <p>Kawit & Noveleta, Cavite</p>
                </div>
                
                <!-- FOOTER SECTION 2: Quick navigation -->
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="story.html">Our Love Story</a></li>
                        <li><a href="bigday.html">Event Details</a></li>
                        <li><a href="nuptials.html">Wedding Party</a></li>
                        <li><a href="greetings.html">Wish Greetings</a></li>
                        <li><a href="rsvp.html">RSVP</a></li>
                    </ul>
                </div>
                
                <!-- FOOTER SECTION 3: Contact information -->
                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>For any questions, please contact:</p>
                    <p><a href="tel:+639123456789" class="phone-link" aria-label="Call Guila">Guila: +63 912 345 6789</a></p>
                    <p><a href="tel:+639876543210" class="phone-link" aria-label="Call Jeric">Jeric: +63 987 654 3210</a></p>
                    <p>
                        <a href="https://www.facebook.com/jericgregorio19" class="phone-link" target="_blank" rel="noopener noreferrer" aria-label="Message Guila and Jeric on Messenger">ðŸ’¬ Message us on Messenger</a>
                    </p>
                </div>
            </div>
            
            <!-- COPYRIGHT: Legal information -->
            <div class="copyright">
                <p>&copy; 2026 Guila & Jeric Wedding. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT: Load custom scripts last for performance -->
    <script src="script.js"></script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - PLAYS ACROSS ALL TABS -->
<!-- =========================================== -->

<!-- Add this JUST BEFORE the closing </body> tag in EVERY HTML FILE -->

<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <!-- Audio Elements for TWO SONGS -->
    <audio id="backgroundMusic1" preload="auto">
        <!-- CHANGE THIS TO YOUR FIRST MP3 FILENAME -->
        <source src="story-song2.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <audio id="backgroundMusic2" preload="auto">
        <!-- CHANGE THIS TO YOUR SECOND MP3 FILENAME -->
        <source src="story-song1.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <!-- Control Button - Same as your design -->
    <button id="musicToggle" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%;
        background: var(--gradient-bg); 
        color: white;
        border: none; 
        cursor: pointer; 
        font-size: 1.2rem;
        display: flex; 
        align-items: center; 
        justify-content: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    ">
        <i class="fas fa-music"></i>
    </button>
</div>

<!-- Music Script - UPDATED FOR CROSS-TAB PLAYBACK -->
<script>
    // GLOBAL MUSIC MANAGER - PLAYS ACROSS ALL TABS
    document.addEventListener('DOMContentLoaded', function() {
        // Get audio elements
        const music1 = document.getElementById('backgroundMusic1');
        const music2 = document.getElementById('backgroundMusic2');
        const toggleBtn = document.getElementById('musicToggle');
        
        // SET VOLUME (30% - soft background)
        music1.volume = 0.3;
        music2.volume = 0.3;
        
        // Music state
        let currentMusic = music1;
        let isPlaying = false;
        let hasAutoPlayed = false;
        
        // ===========================================
        // LOCALSTORAGE STATE MANAGEMENT
        // ===========================================
        function saveMusicState() {
            const state = {
                isPlaying: isPlaying,
                currentSong: currentMusic === music1 ? 1 : 2,
                currentTime: currentMusic.currentTime,
                hasAutoPlayed: hasAutoPlayed,
                timestamp: Date.now()
            };
            localStorage.setItem('globalWeddingMusic', JSON.stringify(state));
        }
        
        function loadMusicState() {
            try {
                const saved = localStorage.getItem('globalWeddingMusic');
                if (saved) {
                    const state = JSON.parse(saved);
                    
                    // Restore playback state
                    isPlaying = state.isPlaying;
                    hasAutoPlayed = state.hasAutoPlayed || false;
                    
                    // Set current song
                    currentMusic = state.currentSong === 2 ? music2 : music1;
                    
                    // Restore playback position (within last 5 minutes)
                    if (state.currentTime && isPlaying) {
                        const timeSinceSave = (Date.now() - state.timestamp) / 1000;
                        if (timeSinceSave < 300) { // 5 minutes
                            currentMusic.currentTime = state.currentTime;
                        }
                    }
                    
                    console.log('Loaded music state:', state);
                    return true;
                }
            } catch (e) {
                console.log('Error loading music state:', e);
            }
            return false;
        }
        
        // ===========================================
        // SONG TRANSITION
        // ===========================================
        music1.addEventListener('ended', function() {
            console.log('Song 1 ended, playing Song 2');
            currentMusic = music2;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        music2.addEventListener('ended', function() {
            console.log('Song 2 ended, playing Song 1');
            currentMusic = music1;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        // ===========================================
        // UPDATE BUTTON VISUALS
        // ===========================================
        function updateButton() {
            if (isPlaying) {
                toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                toggleBtn.style.background = 'var(--gradient-bg)';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            }
        }
        
        // ===========================================
        // TOGGLE PLAY/PAUSE
        // ===========================================
        function togglePlayback() {
            if (isPlaying) {
                // PAUSE
                currentMusic.pause();
                isPlaying = false;
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                // PLAY
                currentMusic.play()
                    .then(() => {
                        isPlaying = true;
                        hasAutoPlayed = true;
                        toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        toggleBtn.style.background = 'var(--gradient-bg)';
                    })
                    .catch(error => {
                        console.log('Play error:', error);
                    });
            }
            saveMusicState();
        }
        
        // ===========================================
        // AUTO-PLAY FUNCTION
        // ===========================================
        function tryAutoPlay() {
            if (hasAutoPlayed) return;
            
            console.log('Attempting auto-play...');
            
            currentMusic.play()
                .then(() => {
                    isPlaying = true;
                    hasAutoPlayed = true;
                    updateButton();
                    saveMusicState();
                    
                    console.log('Auto-play successful!');
                    
                    // Show notification
                    showNotification('Music started automatically');
                    
                }).catch(error => {
                    console.log('Auto-play blocked:', error);
                    toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                    toggleBtn.style.background = 'var(--gray-medium)';
                    toggleBtn.title = "Click to play music";
                    
                    // Try on user interaction
                    const tryOnInteraction = () => {
                        if (!hasAutoPlayed) {
                            currentMusic.play()
                                .then(() => {
                                    isPlaying = true;
                                    hasAutoPlayed = true;
                                    updateButton();
                                    saveMusicState();
                                });
                        }
                    };
                    
                    // Try on first user interaction
                    document.addEventListener('click', tryOnInteraction, { once: true });
                    document.addEventListener('touchstart', tryOnInteraction, { once: true });
                });
        }
        
        // ===========================================
        // NOTIFICATION FUNCTION
        // ===========================================
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--gradient-bg);
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                font-size: 0.9rem;
                z-index: 1001;
                animation: fadeInOut 3s ease forwards;
                max-width: 200px;
                text-align: center;
            `;
            notification.innerHTML = `<i class="fas fa-music"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 3000);
        }
        
        // ===========================================
        // SETUP EVENT LISTENERS
        // ===========================================
        toggleBtn.addEventListener('click', togglePlayback);
        
        // ===========================================
        // INITIALIZE MUSIC PLAYER
        // ===========================================
        function initializeMusic() {
            // Load saved state from localStorage
            const hasSavedState = loadMusicState();
            
            // Update button based on loaded state
            updateButton();
            
            if (hasSavedState && isPlaying) {
                // Resume playback if it was playing
                console.log('Resuming playback...');
                currentMusic.play()
                    .then(() => {
                        console.log('Music resumed');
                    })
                    .catch(e => {
                        console.log('Resume failed:', e);
                        isPlaying = false;
                        updateButton();
                    });
            } else {
                // Try auto-play on first visit
                setTimeout(tryAutoPlay, 500);
            }
            
            // Save state regularly
            window.addEventListener('beforeunload', saveMusicState);
            setInterval(saveMusicState, 5000); // Save every 5 seconds
            
            // Listen for storage changes (other tabs)
            window.addEventListener('storage', function(event) {
                if (event.key === 'globalWeddingMusic') {
                    console.log('Music state updated from another tab');
                    loadMusicState();
                    updateButton();
                    
                    // If music should be playing, resume
                    if (isPlaying && currentMusic.paused) {
                        currentMusic.play()
                            .catch(e => console.log('Resume from other tab failed:', e));
                    }
                }
            });
        }
        
        // ===========================================
        // ERROR HANDLING
        // ===========================================
        music1.addEventListener('error', function() {
            console.log('Music file 1 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        music2.addEventListener('error', function() {
            console.log('Music file 2 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        // ===========================================
        // ADD ANIMATION STYLES
        // ===========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(10px); }
                20% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
        
        // ===========================================
        // START EVERYTHING
        // ===========================================
        initializeMusic();
    });
</script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - END -->
<!-- =========================================== -->
</body>
</html>
