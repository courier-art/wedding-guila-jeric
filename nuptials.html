<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuptials - Guila & Jeric</title>
    
    <!-- EXTERNAL RESOURCES -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- PAGE-SPECIFIC STYLES -->
    <style>
        /* Additional styles for nuptials page */
        .section-spacing {
            margin: 5rem 0;
        }
        
        .role-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--black);
            position: relative;
            display: block;
            width: 100%;
        }
        
        .role-title:after {
            content: '';
            position: absolute;
            bottom: -18px;
            left: 50%;
            width: 35%;
            transform: translateX(-50%);
            height: 2px;
            background: var(--gradient-bg);
        }
        
        .couple-section {
            text-align: center;
            margin: 4rem 0;
            padding: 3rem;
            background: var(--gradient-light);
            border-radius: 10px;
        }
        
        .couple-photo {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            object-fit: cover;
            margin: 2rem auto;
            display: block;
            border: 5px solid var(--white);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">G&J</a>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="story.html">Our Story</a></li>
                <li><a href="bigday.html">The Big Day</a></li>
                <li><a href="nuptials.html" class="active">Nuptials</a></li>
                <li><a href="greetings.html">Wish Greetings</a></li>
                <li><a href="rsvp.html">RSVP</a></li>
            </ul>
        </div>
    </nav>

    <section class="hero">
        <div class="container">
            <div class="hero-content page-transition">
                <h1>Our Wedding Party</h1>
                <p class="subtitle">The special people standing with us on our big day</p>
                
                <!-- BRIDE AND GROOM SECTION -->
                <div class="couple-section">
                    <h2>The Couple</h2>
                    <div style="display: flex; justify-content: center; gap: 4rem; flex-wrap: wrap; margin-top: 2rem;">
                        <div style="text-align: center;">
                            <img src="images/image35.jpg" alt="Guila" class="couple-photo">
                            <h3>Guila</h3>
                            <p>The Bride</p>
                        </div>
                        <div style="text-align: center;">
                            <img src="images/image36.jpg" alt="Jeric" class="couple-photo">
                            <h3>Jeric</h3>
                            <p>The Groom</p>
                        </div>
                    </div>
                </div>
                
                <!-- PRINCIPAL SPONSORS -->
                <div class="section-spacing">
                    <h2 class="role-title">Principal Sponsors</h2>
                    <p style="text-align: center; margin-bottom: 2rem;">Our beloved mentors and guides</p>
                    <div class="nuptials-grid">
                        <!-- SPONSOR 1-10: Edit names and relationships -->
                        <div class="person-card">
                            <img src="images/image01.jpg" alt="Sponsor">
                            <h4>Mr. Marc Doratan</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titowin.png" alt="Sponsor">
                            <h4>Mr. Renato Barco</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titoben.png" alt="Sponsor">
                            <h4>Mr. Benedicto Reyes</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/kuyan.png" alt="Sponsor">
                            <h4>Mr. Nerick Barrera</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image05.jpg" alt="Sponsor">
                            <h4>Mr. Mariano Espeno</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titale.png" alt="Sponsor">
                            <h4>Ms. Lenie Terrado</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titasal.png" alt="Sponsor">
                            <h4>Ms. Sally Petisme</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titami.png" alt="Sponsor">
                            <h4>Ms. Minerva Castillo</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titaralen.png" alt="Sponsor">
                            <h4>Ms. Ralen Bocalan</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/titavan.png" alt="Sponsor">
                            <h4>Ms. Evangeline Ayson</h4>
                            <span class="role-badge">Sponsor</span>
                        </div>
                    </div>
                </div>
                
                <!-- GROOMSMEN -->
                <div class="section-spacing">
                    <h2 class="role-title">Groomsmen</h2>
                    <p style="text-align: center; margin-bottom: 2rem;">Jeric's closest friends and family</p>
                    <div class="nuptials-grid">
                        <!-- BEST MAN -->
                        <div class="person-card">
                            <img src="images/image11.jpg" alt="Best Man">
                            <h4>Mr. Jayson Gregorio</h4>
                            <span class="role-badge">Best Man</span>
                        </div>
                        
                        <!-- GROOMSMEN 2-10 -->
                        <div class="person-card">
                            <img src="images/image17.jpg" alt="Groomsman">
                            <h4>Mr. Mark Diomel Alcedo</h4>
                            <span class="role-badge">Groomsman-Candle</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image12.jpg" alt="Groomsman">
                            <h4>Mr. Julius Gregorio</h4>
                            <span class="role-badge">Groomsman-Veil</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image13.jpg" alt="Groomsman">
                            <h4>Mr. James Gregorio</h4>
                            <span class="role-badge">Groomsman-Cord</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image14.jpg" alt="Groomsman">
                            <h4>Mr. Ronel Christian Oliva</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image15.jpg" alt="Groomsman">
                            <h4>Mr. Cyril Mercado</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image16.jpg" alt="Groomsman">
                            <h4>Mr. Cedrick Manalo</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image18.jpg" alt="Groomsman">
                            <h4>Mr. Lito Gregorio</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image19.jpg" alt="Groomsman">
                            <h4>Mr. John Raymundo Luengo</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                        <div class="person-card">
                            <img src="images/image20.jpg" alt="Groomsman">
                            <h4>Mr. TBA</h4>
                            <span class="role-badge">Groomsman</span>
                        </div>
                    </div>
                </div>
                
                <!-- BRIDESMAIDS -->
                <div class="section-spacing">
                    <h2 class="role-title">Bridesmaids</h2>
                    <p style="text-align: center; margin-bottom: 2rem;">Guila's dearest friends and family</p>
                    <div class="nuptials-grid">
                        <!-- MAID OF HONOR -->
                        <div class="person-card">
                            <img src="pictures/guia.jpg" alt="Maid of Honor">
                            <h4>Ms. Guia Villadelrey</h4>
                            <span class="role-badge">Maid of Honor</span>
                        </div>
                        
                        <!-- BRIDESMAIDS 2-10 -->
                        <div class="person-card">
                            <img src="pictures/einel.png" alt="Bridesmaid">
                            <h4>Ms. Ciela Einel Villadelrey</h4>
                            <span class="role-badge">Bridesmaid-Cord</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/lileth.png" alt="Bridesmaid">
                            <h4>Ms. Nilette Vales</h4>
                            <span class="role-badge">Bridesmaid-Veil</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/leah.jpg" alt="Bridesmaid">
                            <h4>Ms. Leah Reyes</h4>
                            <span class="role-badge">Bridesmaid-Candle</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/marlene.jpg" alt="Bridesmaid">
                            <h4>Ms. Marlene Maligro</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/shie.jpg" alt="Bridesmaid">
                            <h4>Ms. Shiela Leonen</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/judy.jpg" alt="Bridesmaid">
                            <h4>Ms. Judy Ann Louise Iso</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/raven.jpg" alt="Bridesmaid">
                            <h4>Ms. Raven Antiporda</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/jess.jpg" alt="Bridesmaid">
                            <h4>Ms. Jessica May Marquez</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                        <div class="person-card">
                            <img src="pictures/mari.jpg" alt="Bridesmaid">
                            <h4>Ms. Maricar Tubis</h4>
                            <span class="role-badge">Bridesmaid</span>
                        </div>
                    </div>
                </div>
                
                <!-- PARENTS OF THE COUPLE -->
                <div class="section-spacing">
                    <h2 class="role-title">Our Parents</h2>
                    <p style="text-align: center; margin-bottom: 2rem;">With heartfelt gratitude to our families</p>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 3rem; margin-top: 2rem;">
                        <div class="person-card" style="padding: 2rem;">
                            <img src="pictures/tito.png" alt="Parents of the Bride">
                            <img src="pictures/tita.jpg" alt="Parents of the Bride">
                            <h4>Mr. & Mrs. Villadelrey</h4>
                            <p>Parents of the Bride</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--gray-dark);">
                                For your endless love, support, and the beautiful woman you raised.
                            </p>
                        </div>
                        <div class="person-card" style="padding: 2rem;">
                            <img src="images/image34.jpg" alt="Parents of the Groom">
                            <h4>Mr. & Mrs. Gregorio</h4>
                            <p>Parents of the Groom</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem; color: var(--gray-dark);">
                                For your guidance, wisdom, and the wonderful man you raised.
                            </p>
                        </div>
                    </div>
                </div>
                
                <!-- FLOWER GIRL & RING BEARER -->
                <div class="section-spacing" style="text-align: center;">
                    <h2 class="role-title">Little Helpers</h2>
                    <p style="margin-bottom: 2rem;">Our adorable young attendants</p>
                    <div style="display: flex; justify-content: center; gap: 3rem; margin-top: 2rem; flex-wrap: wrap;">
                        <div class="person-card" style="width: 200px;">
                            <img src="images/image31.jpg">
                            <h4>Ahram Jazz Gregorio</h4>
                            <span class="role-badge">Bible Bearer</span>
                            <p style="font-size: 0.9rem; margin-top: 0.5rem; color: var(--gray-dark);">
                         </div> 
                        <div class="person-card" style="width: 200px;">
                            <img src="images/image32.jpg">
                            <h4>Morisette Eve Gregorio</h4>
                            <span class="role-badge">Ring Bearer</span>
                            <p style="font-size: 0.9rem; margin-top: 0.5rem; color: var(--gray-dark);">
                        </div>
                        <div class="person-card" style="width: 200px;">
                            <img src="images/image33.jpg">
                            <h4>Levitrish Anne Gregorio</h4>
                            <span class="role-badge">Flower Girl</span>
                            <p style="font-size: 0.9rem; margin-top: 0.5rem; color: var(--gray-dark);">
                        </div>
                        <div class="person-card" style="width: 200px;">
                            <img src="images/image34.jpg">
                            <h4>Bella Melfina Gregorio</h4>
                            <span class="role-badge">Flower Girl</span>
                            <p style="font-size: 0.9rem; margin-top: 0.5rem; color: var(--gray-dark);">
                        </div>
                    </div>
                </div>
                
                <!-- ADDITIONAL ROLES -->
                <div class="section-spacing">
                    <h2 class="role-title">Additional Roles</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-top: 2rem;">
                        <div class="person-card">
                            <i class="fas fa-book" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <h4>Fr. Antonio Reyes</h4>
                            <p>Officiating Priest</p>
                        </div>
                        <div class="person-card">
                            <i class="fas fa-music" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <h4>Gabriel Santos</h4>
                            <p>Musician</p>
                        </div>
                        <div class="person-card">
                            <i class="fas fa-camera" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <h4>Luis Torres</h4>
                            <p>Photographer</p>
                        </div>
                        <div class="person-card">
                            <i class="fas fa-video" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <h4>Carlos Ramirez</h4>
                            <p>Videographer</p>
                        </div>
                    </div>
                </div>
                
                <!-- THANK YOU MESSAGE -->
                <div style="text-align: center; padding: 3rem; background: var(--gradient-light); border-radius: 10px; margin-top: 4rem;">
                    <h2>A Special Thank You</h2>
                    <p style="max-width: 800px; margin: 1rem auto;">
                        To all our sponsors, wedding party members, and loved ones who are sharing in our joy,
                        thank you for your love, support, and presence in our lives. Each of you holds a special
                        place in our hearts, and we are honored to have you stand with us as we begin this new chapter.
                    </p>
                    <p style="font-style: italic; margin-top: 1rem;">
                        With all our love,<br>
                        <span style="font-family: 'Playfair Display', serif; font-size: 1.2rem;">Guila & Jeric</span>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Guila & Jeric</h3>
                    <p>September 5, 2026</p>
                    <p>Kawit & Noveleta, Cavite</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="story.html">Our Love Story</a></li>
                        <li><a href="bigday.html">Event Details</a></li>
                        <li><a href="greetings.html">Wish Greetings</a></li>
                        <li><a href="rsvp.html">RSVP</a></li>
                    </ul>
                </div>


                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>For any questions, please contact:</p>
                    <p><a href="tel:+639123456789" class="phone-link" aria-label="Call Guila">Guila: +63 912 345 6789</a></p>
                    <p><a href="tel:+639876543210" class="phone-link" aria-label="Call Jeric">Jeric: +63 987 654 3210</a></p>
                    <p><a href="https://m.me/100000514694513" class="phone-link" target="_blank" rel="noopener noreferrer" aria-label="Message Guila and Jeric on Messenger">ðŸ’¬ Message us on Messenger</a></p>
                </div>
            </div>

    <style>
        /* Make phone numbers look like regular text on all devices */
        .phone-link {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        .phone-link:hover,
        .phone-link:focus {
            text-decoration: none;
            color: inherit;
        }
    </style>


            <div class="copyright">
                <p>&copy; 2026 Guila & Jeric Wedding. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - PLAYS ACROSS ALL TABS -->
<!-- =========================================== -->

<!-- Add this JUST BEFORE the closing </body> tag in EVERY HTML FILE -->

<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <!-- Audio Elements for TWO SONGS -->
    <audio id="backgroundMusic1" preload="auto">
        <!-- CHANGE THIS TO YOUR FIRST MP3 FILENAME -->
        <source src="story-song2.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <audio id="backgroundMusic2" preload="auto">
        <!-- CHANGE THIS TO YOUR SECOND MP3 FILENAME -->
        <source src="story-song1.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <!-- Control Button - Same as your design -->
    <button id="musicToggle" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%;
        background: var(--gradient-bg); 
        color: white;
        border: none; 
        cursor: pointer; 
        font-size: 1.2rem;
        display: flex; 
        align-items: center; 
        justify-content: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    ">
        <i class="fas fa-music"></i>
    </button>
</div>

<!-- Music Script - UPDATED FOR CROSS-TAB PLAYBACK -->
<script>
    // GLOBAL MUSIC MANAGER - PLAYS ACROSS ALL TABS
    document.addEventListener('DOMContentLoaded', function() {
        // Get audio elements
        const music1 = document.getElementById('backgroundMusic1');
        const music2 = document.getElementById('backgroundMusic2');
        const toggleBtn = document.getElementById('musicToggle');
        
        // SET VOLUME (30% - soft background)
        music1.volume = 0.3;
        music2.volume = 0.3;
        
        // Music state
        let currentMusic = music1;
        let isPlaying = false;
        let hasAutoPlayed = false;
        
        // ===========================================
        // LOCALSTORAGE STATE MANAGEMENT
        // ===========================================
        function saveMusicState() {
            const state = {
                isPlaying: isPlaying,
                currentSong: currentMusic === music1 ? 1 : 2,
                currentTime: currentMusic.currentTime,
                hasAutoPlayed: hasAutoPlayed,
                timestamp: Date.now()
            };
            localStorage.setItem('globalWeddingMusic', JSON.stringify(state));
        }
        
        function loadMusicState() {
            try {
                const saved = localStorage.getItem('globalWeddingMusic');
                if (saved) {
                    const state = JSON.parse(saved);
                    
                    // Restore playback state
                    isPlaying = state.isPlaying;
                    hasAutoPlayed = state.hasAutoPlayed || false;
                    
                    // Set current song
                    currentMusic = state.currentSong === 2 ? music2 : music1;
                    
                    // Restore playback position (within last 5 minutes)
                    if (state.currentTime && isPlaying) {
                        const timeSinceSave = (Date.now() - state.timestamp) / 1000;
                        if (timeSinceSave < 300) { // 5 minutes
                            currentMusic.currentTime = state.currentTime;
                        }
                    }
                    
                    console.log('Loaded music state:', state);
                    return true;
                }
            } catch (e) {
                console.log('Error loading music state:', e);
            }
            return false;
        }
        
        // ===========================================
        // SONG TRANSITION
        // ===========================================
        music1.addEventListener('ended', function() {
            console.log('Song 1 ended, playing Song 2');
            currentMusic = music2;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        music2.addEventListener('ended', function() {
            console.log('Song 2 ended, playing Song 1');
            currentMusic = music1;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        // ===========================================
        // UPDATE BUTTON VISUALS
        // ===========================================
        function updateButton() {
            if (isPlaying) {
                toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                toggleBtn.style.background = 'var(--gradient-bg)';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            }
        }
        
        // ===========================================
        // TOGGLE PLAY/PAUSE
        // ===========================================
        function togglePlayback() {
            if (isPlaying) {
                // PAUSE
                currentMusic.pause();
                isPlaying = false;
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                // PLAY
                currentMusic.play()
                    .then(() => {
                        isPlaying = true;
                        hasAutoPlayed = true;
                        toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        toggleBtn.style.background = 'var(--gradient-bg)';
                    })
                    .catch(error => {
                        console.log('Play error:', error);
                    });
            }
            saveMusicState();
        }
        
        // ===========================================
        // AUTO-PLAY FUNCTION
        // ===========================================
        function tryAutoPlay() {
            if (hasAutoPlayed) return;
            
            console.log('Attempting auto-play...');
            
            currentMusic.play()
                .then(() => {
                    isPlaying = true;
                    hasAutoPlayed = true;
                    updateButton();
                    saveMusicState();
                    
                    console.log('Auto-play successful!');
                    
                    // Show notification
                    showNotification('Music started automatically');
                    
                }).catch(error => {
                    console.log('Auto-play blocked:', error);
                    toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                    toggleBtn.style.background = 'var(--gray-medium)';
                    toggleBtn.title = "Click to play music";
                    
                    // Try on user interaction
                    const tryOnInteraction = () => {
                        if (!hasAutoPlayed) {
                            currentMusic.play()
                                .then(() => {
                                    isPlaying = true;
                                    hasAutoPlayed = true;
                                    updateButton();
                                    saveMusicState();
                                });
                        }
                    };
                    
                    // Try on first user interaction
                    document.addEventListener('click', tryOnInteraction, { once: true });
                    document.addEventListener('touchstart', tryOnInteraction, { once: true });
                });
        }
        
        // ===========================================
        // NOTIFICATION FUNCTION
        // ===========================================
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--gradient-bg);
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                font-size: 0.9rem;
                z-index: 1001;
                animation: fadeInOut 3s ease forwards;
                max-width: 200px;
                text-align: center;
            `;
            notification.innerHTML = `<i class="fas fa-music"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 3000);
        }
        
        // ===========================================
        // SETUP EVENT LISTENERS
        // ===========================================
        toggleBtn.addEventListener('click', togglePlayback);
        
        // ===========================================
        // INITIALIZE MUSIC PLAYER
        // ===========================================
        function initializeMusic() {
            // Load saved state from localStorage
            const hasSavedState = loadMusicState();
            
            // Update button based on loaded state
            updateButton();
            
            if (hasSavedState && isPlaying) {
                // Resume playback if it was playing
                console.log('Resuming playback...');
                currentMusic.play()
                    .then(() => {
                        console.log('Music resumed');
                    })
                    .catch(e => {
                        console.log('Resume failed:', e);
                        isPlaying = false;
                        updateButton();
                    });
            } else {
                // Try auto-play on first visit
                setTimeout(tryAutoPlay, 500);
            }
            
            // Save state regularly
            window.addEventListener('beforeunload', saveMusicState);
            setInterval(saveMusicState, 5000); // Save every 5 seconds
            
            // Listen for storage changes (other tabs)
            window.addEventListener('storage', function(event) {
                if (event.key === 'globalWeddingMusic') {
                    console.log('Music state updated from another tab');
                    loadMusicState();
                    updateButton();
                    
                    // If music should be playing, resume
                    if (isPlaying && currentMusic.paused) {
                        currentMusic.play()
                            .catch(e => console.log('Resume from other tab failed:', e));
                    }
                }
            });
        }
        
        // ===========================================
        // ERROR HANDLING
        // ===========================================
        music1.addEventListener('error', function() {
            console.log('Music file 1 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        music2.addEventListener('error', function() {
            console.log('Music file 2 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        // ===========================================
        // ADD ANIMATION STYLES
        // ===========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(10px); }
                20% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
        
        // ===========================================
        // START EVERYTHING
        // ===========================================
        initializeMusic();
    });
</script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - END -->
<!-- =========================================== -->
    
</body>
</html>
