<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story - Guila & Jeric</title>
    
    <!-- EXTERNAL RESOURCES -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- PAGE-SPECIFIC STYLES -->
    <style>
        /* ===== MULTI-IMAGE STORY BLOCKS DESIGN ===== */
        
        /* Story blocks container */
        .story-blocks {
            max-width: 1200px;
            margin: 3rem auto;
            padding: 0 2rem;
        }
        
        /* Individual story block */
        .story-block {
            display: flex;
            align-items: center;
            margin-bottom: 6rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease forwards;
            animation-delay: calc(var(--item-index) * 0.2s);
        }
        
        /* ===== MULTI-IMAGE CAROUSEL CONTAINER ===== */
        .story-images-container {
            flex: 0 0 60%;
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            background: var(--gray-light);
        }
        
        /* Image gallery - horizontal layout */
        .story-images-gallery {
            display: flex;
            width: 100%;
            height: 500px;
            transition: transform 0.5s ease;
        }
        
        /* Individual image in gallery */
        .story-image {
            flex: 0 0 100%;
            height: 100%;
            position: relative;
        }
        
        .story-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }
        
        /* Image counter */
        .image-counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9rem;
            z-index: 10;
            backdrop-filter: blur(5px);
        }
        
        /* Navigation arrows */
        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            color: var(--black);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 10;
            transition: all 0.3s ease;
            border: none;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .nav-arrow:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
            box-shadow: 0 6px 16px rgba(0,0,0,0.15);
        }
        
        .nav-arrow.prev {
            left: 20px;
        }
        
        .nav-arrow.next {
            right: 20px;
        }
        
        /* Image dots indicator */
        .image-dots {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 8px;
            z-index: 10;
        }
        
        .image-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            padding: 0;
        }
        
        .image-dot.active {
            background: white;
            transform: scale(1.2);
        }
        
        /* ===== MULTI-IMAGE LAYOUT OPTIONS ===== */
        /* Option 1: Grid layout (2x2 or 3x3) */
        .story-images-grid {
            display: grid;
            grid-template-columns: repeat(2,1fr);
            gap: 10px;
            height: 40rem;
            padding: 10px;
        }
        
        .story-images-grid.col-3 {
            grid-template-columns: repeat(3, 1fr);
        }
        
        .story-images-grid .story-image {
            border-radius: 8px;
            overflow: hidden;
            height: auto;
        }
        
        .story-images-grid .story-image:first-child:only-child {
            grid-column: 1 / -1;
        }
        
        .story-images-grid .story-image:first-child:nth-last-child(2),
        .story-images-grid .story-image:first-child:nth-last-child(2) ~ .story-image {
            grid-column: span 1;
        }
        
        .story-images-grid .story-image:first-child:nth-last-child(3),
        .story-images-grid .story-image:first-child:nth-last-child(3) ~ .story-image {
            grid-column: span 1;
        }
        
        /* Option 2: Collage layout */
        .story-images-collage {
            display: grid;
            grid-template-columns: repeat(12, 1fr);
            grid-template-rows: repeat(12, 1fr);
            gap: 10px;
            height: 500px;
            padding: 10px;
        }
        
        .story-images-collage .story-image {
            border-radius: 8px;
            overflow: hidden;
        }
        
        .story-images-collage .story-image:nth-child(1) {
            grid-column: 1 / span 8;
            grid-row: 1 / span 8;
        }
        
        .story-images-collage .story-image:nth-child(2) {
            grid-column: 9 / span 4;
            grid-row: 1 / span 4;
        }
        
        .story-images-collage .story-image:nth-child(3) {
            grid-column: 9 / span 4;
            grid-row: 5 / span 8;
        }
        
        .story-images-collage .story-image:nth-child(4) {
            grid-column: 1 / span 8;
            grid-row: 9 / span 4;
        }
        
        /* ===== CONTENT SIDE ===== */
        .story-content {
            flex: 0 0 40%;
            padding: 3rem;
            position: relative;
            z-index: 1;
        }
        
        /* Alternate layout */
        .story-block:nth-child(odd) {
            flex-direction: row;
        }
        
        .story-block:nth-child(even) {
            flex-direction: row-reverse;
        }
        
        /* Year badge */
        .story-year {
            display: inline-block;
            font-size: 1.3rem;
            font-weight: 700;
            color: white;
            background: var(--gradient-bg);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            margin-bottom: 1.5rem;
            font-family: 'Playfair Display', serif;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        /* Story title */
        .story-content h3 {
            color: var(--black);
            font-size: 2rem;
            margin: 0.5rem 0 1rem 0;
            font-family: 'Playfair Display', serif;
            line-height: 1.2;
        }
        
        /* Story excerpt */
        .story-excerpt {
            color: var(--gray-dark);
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 0;
        }
        
        /* Story image captions */
        .image-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 20px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .story-image:hover .image-caption {
            opacity: 1;
        }
        
        /* ===== QUOTE SECTION ===== */
        .quote-section {
            background: linear-gradient(135deg, rgba(10,10,10,0.05) 0%, rgba(26,26,26,0.05) 100%);
            border-left: 4px solid var(--black);
            padding: 4rem;
            margin: 6rem auto;
            max-width: 800px;
            text-align: center;
            border-radius: 0 12px 12px 0;
        }
        
        .quote-section h2 {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            color: var(--black);
            margin-bottom: 1rem;
            font-weight: 400;
            line-height: 1.3;
        }
        
        .quote-author {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--gray-dark);
            font-style: italic;
        }
        
        /* ===== LAYOUT SELECTOR ===== */
        .layout-selector {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
            display: flex;
            gap: 5px;
            background: rgba(0,0,0,0.7);
            padding: 8px;
            border-radius: 8px;
            backdrop-filter: blur(5px);
        }
        
        .layout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 4px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .layout-btn:hover {
            background: rgba(255,255,255,0.3);
        }
        
        .layout-btn.active {
            background: white;
            color: var(--black);
        }
        
        /* ===== RESPONSIVE DESIGN ===== */
        @media (max-width: 992px) {
            .story-block {
                flex-direction: column !important;
                margin-bottom: 4rem;
            }
            
            .story-images-container,
            .story-content {
                flex: 0 0 100%;
                width: 100%;
            }
            
            .story-content {
                padding: 2rem 1rem;
            }
            
            .story-images-gallery,
            .story-images-grid,
            .story-images-collage {
                height: 400px;
            }
            
            .quote-section {
                padding: 3rem 2rem;
                margin: 4rem 1rem;
            }
            
            .quote-section h2 {
                font-size: 1.8rem;
            }
        }
        
        @media (max-width: 768px) {
            .story-blocks {
                padding: 0 1rem;
            }
            
            .story-images-gallery,
            .story-images-grid,
            .story-images-collage {
                height: 300px;
            }
            
            .story-images-grid {
                grid-template-columns: 1fr;
                gap: 5px;
            }
            
            .story-images-collage {
                grid-template-columns: 1fr;
                grid-template-rows: repeat(4, 1fr);
            }
            
            .story-images-collage .story-image {
                grid-column: 1 !important;
                grid-row: auto !important;
            }
            
            .story-content h3 {
                font-size: 1.6rem;
            }
            
            .story-excerpt {
                font-size: 1rem;
            }
            
            .nav-arrow {
                width: 35px;
                height: 35px;
                font-size: 1rem;
            }
            
            .quote-section {
                padding: 2rem 1.5rem;
            }
            
            .quote-section h2 {
                font-size: 1.5rem;
            }
        }
        
        @media (max-width: 480px) {
            .story-images-gallery,
            .story-images-grid,
            .story-images-collage {
                height: 250px;
            }
            
            .story-year {
                font-size: 1.1rem;
                padding: 0.4rem 1.2rem;
            }
            
            .story-content h3 {
                font-size: 1.4rem;
            }
            
            .nav-arrow {
                width: 30px;
                height: 30px;
                font-size: 0.9rem;
            }
            
            .image-counter {
                font-size: 0.8rem;
                padding: 4px 10px;
            }
            
            .quote-section h2 {
                font-size: 1.3rem;
            }
        }
        
        /* Animation */
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Hero section */
        .hero.story-hero .hero-content {
            padding-top: 150px;
            padding-bottom: 80px;
        }
    </style>
</head>
<body>
    <!-- NAVIGATION -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">G&J</a>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="story.html" class="active">Our Story</a></li>
                <li><a href="bigday.html">The Big Day</a></li>
                <li><a href="nuptials.html">Nuptials</a></li>
                <li><a href="greetings.html">Wish Greetings</a></li>
                <li><a href="rsvp.html">RSVP</a></li>
            </ul>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero story-hero">
        <div class="container">
            <div class="hero-content page-transition">
                <h1>Our Love Story</h1>
                <p class="subtitle">A visual journey through our most cherished moments</p>
            </div>
        </div>
    </section>

    <!-- STORY BLOCKS -->
    <div class="story-blocks">
        
        <!-- STORY BLOCK 1: First Meeting - Carousel Example -->
        <div class="story-block" style="--item-index: 0;">
            <div class="story-images-container">
                <!-- Carousel Navigation -->
                <button class="nav-arrow prev"><i class="fas fa-chevron-left"></i></button>
                <button class="nav-arrow next"><i class="fas fa-chevron-right"></i></button>
                
                <!-- Image Counter -->
                <div class="image-counter">1/3</div>
                
                <!-- Images Gallery -->
                <div class="story-images-gallery">
                    <div class="story-image">
                        <img src="pictures/guia.jpg" alt="Guila and Jeric in high school uniform">
                        <div class="image-caption">Our high school days</div>
                    </div>
                    <div class="story-image">
                        <img src="pictures/einel.png" alt="First date at school canteen">
                        <div class="image-caption">First date sharing halo-halo</div>
                    </div>
                    <div class="story-image">
                        <img src="pictures/judy.jpg" alt="High school graduation">
                        <div class="image-caption">Graduating together</div>
                    </div>
                </div>
                
                <!-- Dots Indicator -->
                <div class="image-dots">
                    <button class="image-dot active" data-index="0"></button>
                    <button class="image-dot" data-index="1"></button>
                    <button class="image-dot" data-index="2"></button>
                </div>
            </div>
            
            <div class="story-content">
                <span class="story-year">2015</span>
                <h3>High School Sweethearts</h3>
                <p class="story-excerpt">We first met in our senior year of high school. Jeric sat behind Guila in math class, and they would pass notes during boring lectures. Our first date was at the school canteen, sharing a halo-halo after class.</p>
            </div>
        </div>
        
        <!-- STORY BLOCK 2: College Years - Grid Layout Example -->
        <div class="story-block" style="--item-index: 1;">
            <div class="story-images-container">
                
                <!-- Grid Layout Images -->
                <div class="story-images-grid">
                    <div class="story-image">
                        <img src="pictures/shie.jpg" alt="Visiting each other's universities">
                    </div>
                    <div class="story-image">
                        <img src="pictures/marlene.jpg" alt="Campus dates">
                    </div>
                    <div class="story-image">
                        <img src="pictures/mari.jpg" alt="Study sessions together">
                    </div>
                    <div class="story-image">
                        <img src="pictures/leah.jpg" alt="Weekend adventures">
                    </div>
                </div>
            </div>
            
            <div class="story-content">
                <span class="story-year">2018</span>
                <h3>College Adventures</h3>
                <p class="story-excerpt">Though we attended different universities, we made it work with weekend visits and endless video calls. Jeric would take the bus to visit Guila every other weekend, creating beautiful memories in both campuses.</p>
            </div>
        </div>
        
         <!-- STORY BLOCK 1: First Meeting - Carousel Example -->
        <div class="story-block" style="--item-index: 0;">
            <div class="story-images-container">
                <!-- Carousel Navigation -->
                <button class="nav-arrow prev"><i class="fas fa-chevron-left"></i></button>
                <button class="nav-arrow next"><i class="fas fa-chevron-right"></i></button>
                
                <!-- Image Counter -->
                <div class="image-counter">1/3</div>
                
                <!-- Images Gallery -->
                <div class="story-images-gallery">
                    <div class="story-image">
                        <img src="pictures/guia.jpg" alt="Guila and Jeric in high school uniform">
                        <div class="image-caption">Our high school days</div>
                    </div>
                    <div class="story-image">
                        <img src="pictures/einel.png" alt="First date at school canteen">
                        <div class="image-caption">First date sharing halo-halo</div>
                    </div>
                    <div class="story-image">
                        <img src="pictures/judy.jpg" alt="High school graduation">
                        <div class="image-caption">Graduating together</div>
                    </div>
                </div>
                
                <!-- Dots Indicator -->
                <div class="image-dots">
                    <button class="image-dot active" data-index="0"></button>
                    <button class="image-dot" data-index="1"></button>
                    <button class="image-dot" data-index="2"></button>
                </div>
            </div>
            
            <div class="story-content">
                <span class="story-year">2015</span>
                <h3>High School Sweethearts</h3>
                <p class="story-excerpt">We first met in our senior year of high school. Jeric sat behind Guila in math class, and they would pass notes during boring lectures. Our first date was at the school canteen, sharing a halo-halo after class.</p>
            </div>
        </div>       


        <!-- STORY BLOCK 3: First Home - Collage Layout Example -->
        <div class="story-block" style="--item-index: 2;">
            <div class="story-images-container">
                <div class="story-images-collage">
                    <div class="story-image">
                        <img src="images/story03.jpg" alt="Our first apartment living room">
                    </div>
                    <div class="story-image">
                        <img src="images/story03b.jpg" alt="Cooking together">
                    </div>
                    <div class="story-image">
                        <img src="images/story03b.jpg" alt="Cooking together">
                    </div>
                    <div class="story-image">
                        <img src="images/story03c.jpg" alt="Game nights with friends">
                    </div>
                </div>
            </div>
            
            <div class="story-content">
                <span class="story-year">2020</span>
                <h3>Our First Home</h3>
                <p class="story-excerpt">After graduation, we moved into our first apartment. It was small but filled with love. We learned to cook together, hosted game nights with friends, and built our first home together.</p>
            </div>
        </div>
        
        <!-- Add more story blocks as needed -->
        
    </div>

    <!-- QUOTE SECTION -->
    <div class="quote-section">
        <h2>"In you, I've found the love of my life and my closest, truest friend."</h2>
        <p class="quote-author">- Guila & Jeric</p>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Guila & Jeric</h3>
                    <p>September 5, 2026</p>
                    <p>Kawit & Noveleta, Cavite</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="bigday.html">Event Details</a></li>
                        <li><a href="nuptials.html">Wedding Party</a></li>
                        <li><a href="greetings.html">Wish Greetings</a></li>
                        <li><a href="rsvp.html">RSVP</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>For any questions, please contact:</p>
                    <p><a href="tel:+639360430704" class="phone-link" aria-label="Call Guila">Guila: +63 936 043 0704</a></p>
                    <p><a href="tel:+639981628942" class="phone-link" aria-label="Call Jeric">Jeric: +63 998 162 8942</a></p>
                    <p><a href="https://m.me/100000514694513" class="phone-link" target="_blank" rel="noopener noreferrer" aria-label="Message Guila and Jeric on Messenger">ðŸ’¬ Message us on Messenger</a></p>
                </div>
            </div>
            
            <style>
                .phone-link {
                    text-decoration: none;
                    color: inherit;
                    cursor: pointer;
                }
                .phone-link:hover,
                .phone-link:focus {
                    text-decoration: none;
                    color: inherit;
                }
            </style>

            <div class="copyright">
                <p>&copy; 2026 Guila & Jeric Wedding. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    
    <!-- MULTI-IMAGE CAROUSEL FUNCTIONALITY -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize all carousels
            document.querySelectorAll('.story-images-container').forEach(container => {
                initImageContainer(container);
            });
            
            // Animate story blocks on scroll
            function animateStoryBlocks() {
                const blocks = document.querySelectorAll('.story-block');
                
                blocks.forEach(block => {
                    const blockTop = block.getBoundingClientRect().top;
                    const windowHeight = window.innerHeight;
                    
                    if (blockTop < windowHeight - 100) {
                        block.style.animationPlayState = 'running';
                    }
                });
            }
            
            // Initial check
            animateStoryBlocks();

            // Check on scroll
            window.addEventListener('scroll', animateStoryBlocks);
        });
        
        function initImageContainer(container) {
            const gallery = container.querySelector('.story-images-gallery');
            const grid = container.querySelector('.story-images-grid');
            const collage = container.querySelector('.story-images-collage');
            const prevBtn = container.querySelector('.nav-arrow.prev');
            const nextBtn = container.querySelector('.nav-arrow.next');
            const dots = container.querySelectorAll('.image-dot');
            const counter = container.querySelector('.image-counter');
            const layoutBtns = container.querySelectorAll('.layout-btn');
            
            let currentIndex = 0;
            let totalImages = 0;
            let currentLayout = 'carousel'; // 'carousel', 'grid', or 'collage'
            
            // Determine which layout is active
            if (gallery) {
                totalImages = gallery.children.length;
                currentLayout = 'carousel';
            } else if (grid) {
                totalImages = grid.children.length;
                currentLayout = 'grid';
            } else if (collage) {
                totalImages = collage.children.length;
                currentLayout = 'collage';
            }
            
            // Carousel functionality
            if (gallery && prevBtn && nextBtn) {
                function updateCarousel() {
                    gallery.style.transform = `translateX(-${currentIndex * 100}%)`;
                    
                    // Update counter
                    if (counter) {
                        counter.textContent = `${currentIndex + 1}/${totalImages}`;
                    }
                    
                    // Update dots
                    dots.forEach((dot, index) => {
                        dot.classList.toggle('active', index === currentIndex);
                    });
                }
                
                prevBtn.addEventListener('click', () => {
                    currentIndex = currentIndex > 0 ? currentIndex - 1 : totalImages - 1;
                    updateCarousel();
                });
                
                nextBtn.addEventListener('click', () => {
                    currentIndex = currentIndex < totalImages - 1 ? currentIndex + 1 : 0;
                    updateCarousel();
                });
                
                // Dot click events
                dots.forEach(dot => {
                    dot.addEventListener('click', function() {
                        currentIndex = parseInt(this.dataset.index);
                        updateCarousel();
                    });
                });
                
                // Auto-advance carousel (optional)
                let autoAdvance = setInterval(() => {
                    currentIndex = currentIndex < totalImages - 1 ? currentIndex + 1 : 0;
                    updateCarousel();
                }, 5000);
                
                // Pause auto-advance on hover
                container.addEventListener('mouseenter', () => clearInterval(autoAdvance));
                container.addEventListener('mouseleave', () => {
                    autoAdvance = setInterval(() => {
                        currentIndex = currentIndex < totalImages - 1 ? currentIndex + 1 : 0;
                        updateCarousel();
                    }, 5000);
                });
                
                // Initialize
                updateCarousel();
            }
            
            // Layout switcher functionality
            if (layoutBtns.length > 0) {
                layoutBtns.forEach(btn => {
                    btn.addEventListener('click', function() {
                        const layout = this.dataset.layout;
                        
                        // Update active button
                        layoutBtns.forEach(b => b.classList.remove('active'));
                        this.classList.add('active');
                        
                        // Switch layouts (you can extend this to actually change layouts)
                        console.log('Switching to layout:', layout);
                        // You would need to implement actual layout switching here
                    });
                });
            }
            
            // Lazy load images
            const images = container.querySelectorAll('img');
            images.forEach(img => {
                // Add loading animation
                img.style.transition = 'opacity 0.5s ease';

                // When image loads
                img.addEventListener('load', function() {
                    this.style.opacity = '1';
                });

                // If image has error
                img.addEventListener('error', function() {
                    this.style.opacity = '1';
                    this.src = 'https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80';
                });
            });
        }
    </script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - PLAYS ACROSS ALL TABS -->
<!-- =========================================== -->

<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <!-- Audio Elements for TWO SONGS -->
    <audio id="backgroundMusic1" preload="auto">
        <!-- CHANGE THIS TO YOUR FIRST MP3 FILENAME -->
        <source src="story-song2.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <audio id="backgroundMusic2" preload="auto">
        <!-- CHANGE THIS TO YOUR SECOND MP3 FILENAME -->
        <source src="story-song1.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <!-- Control Button - Same as your design -->
    <button id="musicToggle" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%;
        background: var(--gradient-bg); 
        color: black;
        border: none; 
        cursor: pointer; 
        font-size: 1.2rem;
        display: flex; 
        align-items: center; 
        justify-content: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    ">
        <i class="fas fa-music"></i>
    </button>
</div>

<!-- Music Script - UPDATED FOR CROSS-TAB PLAYBACK -->
<script>
    // GLOBAL MUSIC MANAGER - PLAYS ACROSS ALL TABS
    document.addEventListener('DOMContentLoaded', function() {
        // Get audio elements
        const music1 = document.getElementById('backgroundMusic1');
        const music2 = document.getElementById('backgroundMusic2');
        const toggleBtn = document.getElementById('musicToggle');
        
        // SET VOLUME (30% - soft background)
        music1.volume = 0.3;
        music2.volume = 0.3;
        
        // Music state
        let currentMusic = music1;
        let isPlaying = false;
        let hasAutoPlayed = false;
        
        // ===========================================
        // LOCALSTORAGE STATE MANAGEMENT
        // ===========================================
        function saveMusicState() {
            const state = {
                isPlaying: isPlaying,
                currentSong: currentMusic === music1 ? 1 : 2,
                currentTime: currentMusic.currentTime,
                hasAutoPlayed: hasAutoPlayed,
                timestamp: Date.now()
            };
            localStorage.setItem('globalWeddingMusic', JSON.stringify(state));
        }
        
        function loadMusicState() {
            try {
                const saved = localStorage.getItem('globalWeddingMusic');
                if (saved) {
                    const state = JSON.parse(saved);
                    
                    // Restore playback state
                    isPlaying = state.isPlaying;
                    hasAutoPlayed = state.hasAutoPlayed || false;
                    
                    // Set current song
                    currentMusic = state.currentSong === 2 ? music2 : music1;
                    
                    // Restore playback position (within last 5 minutes)
                    if (state.currentTime && isPlaying) {
                        const timeSinceSave = (Date.now() - state.timestamp) / 1000;
                        if (timeSinceSave < 300) { // 5 minutes
                            currentMusic.currentTime = state.currentTime;
                        }
                    }
                    
                    console.log('Loaded music state:', state);
                    return true;
                }
            } catch (e) {
                console.log('Error loading music state:', e);
            }
            return false;
        }
        
        // ===========================================
        // SONG TRANSITION
        // ===========================================
        music1.addEventListener('ended', function() {
            console.log('Song 1 ended, playing Song 2');
            currentMusic = music2;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        music2.addEventListener('ended', function() {
            console.log('Song 2 ended, playing Song 1');
            currentMusic = music1;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        // ===========================================
        // UPDATE BUTTON VISUALS
        // ===========================================
        function updateButton() {
            if (isPlaying) {
                toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            }
        }
        
        // ===========================================
        // TOGGLE PLAY/PAUSE
        // ===========================================
        function togglePlayback() {
            if (isPlaying) {
                // PAUSE
                currentMusic.pause();
                isPlaying = false;
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                // PLAY
                currentMusic.play()
                    .then(() => {
                        isPlaying = true;
                        hasAutoPlayed = true;
                        toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        toggleBtn.style.background = 'var(--gray-medium)';
                    })
                    .catch(error => {
                        console.log('Play error:', error);
                    });
            }
            saveMusicState();
        }
        
        // ===========================================
        // AUTO-PLAY FUNCTION
        // ===========================================
        function tryAutoPlay() {
            if (hasAutoPlayed) return;
            
            console.log('Attempting auto-play...');
            
            currentMusic.play()
                .then(() => {
                    isPlaying = true;
                    hasAutoPlayed = true;
                    updateButton();
                    saveMusicState();
                    
                    console.log('Auto-play successful!');
                    
                    // Show notification
                    showNotification('Music started automatically');
                    
                }).catch(error => {
                    console.log('Auto-play blocked:', error);
                    toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                    toggleBtn.style.background = 'var(--gray-medium)';
                    toggleBtn.title = "Click to play music";
                    
                    // Try on user interaction
                    const tryOnInteraction = () => {
                        if (!hasAutoPlayed) {
                            currentMusic.play()
                                .then(() => {
                                    isPlaying = true;
                                    hasAutoPlayed = true;
                                    updateButton();
                                    saveMusicState();
                                });
                        }
                    };
                    
                    // Try on first user interaction
                    document.addEventListener('click', tryOnInteraction, { once: true });
                    document.addEventListener('touchstart', tryOnInteraction, { once: true });
                });
        }
        
        // ===========================================
        // NOTIFICATION FUNCTION
        // ===========================================
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--gradient-bg);
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                font-size: 0.9rem;
                z-index: 1001;
                animation: fadeInOut 3s ease forwards;
                max-width: 200px;
                text-align: center;
            `;
            notification.innerHTML = `<i class="fas fa-music"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 3000);
        }
        
        // ===========================================
        // SETUP EVENT LISTENERS
        // ===========================================
        toggleBtn.addEventListener('click', togglePlayback);
        
        // ===========================================
        // INITIALIZE MUSIC PLAYER
        // ===========================================
        function initializeMusic() {
            // Load saved state from localStorage
            const hasSavedState = loadMusicState();
            
            // Update button based on loaded state
            updateButton();
            
            if (hasSavedState && isPlaying) {
                // Resume playback if it was playing
                console.log('Resuming playback...');
                currentMusic.play()
                    .then(() => {
                        console.log('Music resumed');
                    })
                    .catch(e => {
                        console.log('Resume failed:', e);
                        isPlaying = false;
                        updateButton();
                    });
            } else {
                // Try auto-play on first visit
                setTimeout(tryAutoPlay, 500);
            }
            
            // Save state regularly
            window.addEventListener('beforeunload', saveMusicState);
            setInterval(saveMusicState, 5000); // Save every 5 seconds
            
            // Listen for storage changes (other tabs)
            window.addEventListener('storage', function(event) {
                if (event.key === 'globalWeddingMusic') {
                    console.log('Music state updated from another tab');
                    loadMusicState();
                    updateButton();
                    
                    // If music should be playing, resume
                    if (isPlaying && currentMusic.paused) {
                        currentMusic.play()
                            .catch(e => console.log('Resume from other tab failed:', e));
                    }
                }
            });
        }
        
        // ===========================================
        // ERROR HANDLING
        // ===========================================
        music1.addEventListener('error', function() {
            console.log('Music file 1 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        music2.addEventListener('error', function() {
            console.log('Music file 2 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        // ===========================================
        // ADD ANIMATION STYLES
        // ===========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(10px); }
                20% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
        
        // ===========================================
        // START EVERYTHING
        // ===========================================
        initializeMusic();
    });
</script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - END -->
<!-- =========================================== -->
    
</body>
</html>