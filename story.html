<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Story - Guila & Jeric</title>
    
    <!-- EXTERNAL RESOURCES -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- STYLESHEETS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- PAGE-SPECIFIC STYLES -->
    <style>
        /* Image styles for timeline */
        .timeline-image {
            width: 100%;
            max-width: 400px;
            height: 250px;
            object-fit: cover;
            border-radius: 10px;
            margin: 1.5rem auto;
            display: block;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.5s ease;
            opacity: 0;
            transform: translateY(20px);
        }
        
        .timeline-image.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Different image styles for odd/even items */
        .timeline-item:nth-child(odd) .timeline-image {
            border-left: 5px solid var(--gradient-bg);
        }
        
        .timeline-item:nth-child(even) .timeline-image {
            border-right: 5px solid var(--gradient-bg);
        }
        
        /* Image hover effects */
        .timeline-image:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        /* Fade-in animation for timeline items */
        .timeline-item {
            animation: fadeInUp 0.8s ease forwards;
            animation-delay: calc(var(--item-index) * 0.2s);
            opacity: 0;
        }
        
        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Mobile adjustments */
        @media (max-width: 768px) {
            .timeline-image {
                max-width: 300px;
                height: 200px;
                margin: 1rem auto;
            }
        }
    </style>
</head>
<body>
    <!-- NAVIGATION: Same structure as home page -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">G&J</a>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="story.html" class="active">Our Story</a></li>
                <li><a href="bigday.html">The Big Day</a></li>
                <li><a href="nuptials.html">Nuptials</a></li>
                <li><a href="greetings.html">Wish Greetings</a></li>
                <li><a href="rsvp.html">RSVP</a></li>
            </ul>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="hero">
        <div class="container">
            <div class="hero-content page-transition">
                <!-- PAGE HEADING -->
                <h1>Our Love Story</h1>
                <p class="subtitle">A timeline of our journey together</p>
                
                <!-- TIMELINE CONTAINER -->
                <div class="timeline">
                    
                    <!-- TIMELINE ITEM 1: First meeting -->
                    <div class="timeline-item" style="--item-index: 0;">
                        <div class="timeline-content">
                            <div class="timeline-date">2015</div>
                            <h3>High School Sweethearts</h3>
                            <img src="wbonding1.jpg" alt="High school days" class="timeline-image" 
                            <p>We first met in our senior year of high school. Jeric sat behind Guila in math class, and they would pass notes during boring lectures. Their first date was at the school canteen, sharing a halo-halo after class.</p>
                        </div>
                    </div>
                    
                    <!-- TIMELINE ITEM 2: College years -->
                    <div class="timeline-item" style="--item-index: 1;">
                        <div class="timeline-content">
                            <div class="timeline-date">2018</div>
                            <h3>College Adventures</h3>
                            <img src="images/story02.jpg" alt="College years" class="timeline-image"
                                 onerror="this.src='https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80'">
                            <p>Though we attended different universities, we made it work with weekend visits and endless video calls. Jeric would take the bus to visit Guila every other weekend, creating memories in both campuses.</p>
                        </div>
                    </div>
                    
                    <!-- TIMELINE ITEM 3: Moving in together -->
                    <div class="timeline-item" style="--item-index: 2;">
                        <div class="timeline-content">
                            <div class="timeline-date">2020</div>
                            <h3>First Apartment Together</h3>
                            <img src="images/story03.jpg" alt="First apartment" class="timeline-image"
                                 onerror="this.src='https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80'">
                            <p>After graduation, we moved into our first apartment. It was small but full of love. We learned to cook together, hosted game nights with friends, and built our first home together.</p>
                        </div>
                    </div>
                    
                    <!-- TIMELINE ITEM 4: Special trip -->
                    <div class="timeline-item" style="--item-index: 3;">
                        <div class="timeline-content">
                            <div class="timeline-date">2023</div>
                            <h3>The Trip to Baguio</h3>
                            <img src="images/story04.jpg" alt="Baguio trip" class="timeline-image"
                                 onerror="this.src='https://images.unsplash.com/photo-1552733407-5d5c46c3bb3b?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80'">
                            <p>During a weekend getaway to Baguio, we rediscovered why we fell in love. Long walks in the pine forest, sharing hot chocolate at CafÃ© by the Ruins, and planning our future together.</p>
                        </div>
                    </div>
                    
                    <!-- TIMELINE ITEM 5: Proposal -->
                    <div class="timeline-item" style="--item-index: 4;">
                        <div class="timeline-content">
                            <div class="timeline-date">December 2024</div>
                            <h3>The Proposal</h3>
                            <img src="images/story05.jpg" alt="Proposal moment" class="timeline-image"
                                 onerror="this.src='https://images.unsplash.com/photo-1511285560929-80b456fea0bc?ixlib=rb-1.2.1&auto=format&fit=crop&w=400&q=80'">
                            <p>Jeric planned a surprise dinner at our favorite restaurant. After dessert, he got down on one knee in front of our family and closest friends. Guila said "Yes!" through happy tears. The ring was placed just as the clock struck midnight on New Year's Eve.</p>
                        </div>
                    </div>
                    
                    <!-- TIMELINE ITEM 6: Wedding planning -->
                    <div class="timeline-item" style="--item-index: 5;">
                        <div class="timeline-content">
                            <div class="timeline-date">2025 - Present</div>
                            <h3>Planning Our Forever</h3>
                            <img src="images/story06.jpg" alt="Wedding planning" class="timeline-image"
                            <p>Now we're planning our wedding day, excited to start our journey as husband and wife. Every decision, from the venue to the smallest detail, is filled with love and anticipation for our future together.</p>
                        </div>
                    </div>
                </div>
                
                <!-- QUOTE SECTION -->
                <div class="quote-section" style="text-align: center; margin-top: 4rem; padding: 3rem; background: var(--gray-light); border-radius: 10px;">
                    <h2 style="margin-bottom: 1rem;">"In you, I've found the love of my life and my closest, truest friend."</h2>
                    <p>- Guila & Jeric</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Guila & Jeric</h3>
                    <p>September 5, 2026</p>
                    <p>Kawit & Noveleta, Cavite</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="bigday.html">Event Details</a></li>
                        <li><a href="nuptials.html">Wedding Party</a></li>
                        <li><a href="greetings.html">Wish Greetings</a></li>
                        <li><a href="rsvp.html">RSVP</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>For any questions, please contact:</p>
                    <p><a href="tel:+639123456789" class="phone-link" aria-label="Call Guila">Guila: +63 912 345 6789</a></p>
                    <p><a href="tel:+639876543210" class="phone-link" aria-label="Call Jeric">Jeric: +63 987 654 3210</a></p>
                    <p><a href="https://m.me/jericgregorio19" class="phone-link" target="_blank" rel="noopener noreferrer" aria-label="Message Guila and Jeric on Messenger">ðŸ’¬ Message us on Messenger</a></p>
                </div>
            </div>

    <style>
        /* Make phone numbers look like regular text on all devices */
        .phone-link {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        .phone-link:hover,
        .phone-link:focus {
            text-decoration: none;
            color: inherit;
        }
    </style>

            <div class="copyright">
                <p>&copy; 2026 Guila & Jeric Wedding. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    
    <!-- MINIMAL SCRIPT FOR IMAGE ANIMATIONS -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Function to check if element is in viewport
            function isInViewport(element) {
                const rect = element.getBoundingClientRect();
                return (
                    rect.top >= 0 &&
                    rect.left >= 0 &&
                    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                    rect.right <= (window.innerWidth || document.documentElement.clientWidth)
                );
            }
            
            // Function to handle image animations
            function animateImages() {
                const images = document.querySelectorAll('.timeline-image');
                
                images.forEach(image => {
                    if (isInViewport(image) && !image.classList.contains('visible')) {
                        image.classList.add('visible');
                    }
                });
            }
            
            // Initial animation check
            animateImages();
            
            // Animate on scroll
            window.addEventListener('scroll', animateImages);
            
            // Animate on resize
            window.addEventListener('resize', animateImages);
            
            // Staggered animation for timeline items
            const timelineItems = document.querySelectorAll('.timeline-item');
            timelineItems.forEach((item, index) => {
                // Set custom property for staggered animation
                item.style.setProperty('--item-index', index);
                
                // Animate when in view
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.animationPlayState = 'running';
                        }
                    });
                }, { threshold: 0.1 });
                
                observer.observe(item);
            });
        });
    </script>
    
<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - PLAYS ACROSS ALL TABS -->
<!-- =========================================== -->

<!-- Add this JUST BEFORE the closing </body> tag in EVERY HTML FILE -->

<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <!-- Audio Elements for TWO SONGS -->
    <audio id="backgroundMusic1" preload="auto">
        <!-- CHANGE THIS TO YOUR FIRST MP3 FILENAME -->
        <source src="story-song2.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <audio id="backgroundMusic2" preload="auto">
        <!-- CHANGE THIS TO YOUR SECOND MP3 FILENAME -->
        <source src="story-song1.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <!-- Control Button - Same as your design -->
    <button id="musicToggle" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%;
        background: var(--gradient-bg); 
        color: white;
        border: none; 
        cursor: pointer; 
        font-size: 1.2rem;
        display: flex; 
        align-items: center; 
        justify-content: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    ">
        <i class="fas fa-music"></i>
    </button>
</div>

<!-- Music Script - UPDATED FOR CROSS-TAB PLAYBACK -->
<script>
    // GLOBAL MUSIC MANAGER - PLAYS ACROSS ALL TABS
    document.addEventListener('DOMContentLoaded', function() {
        // Get audio elements
        const music1 = document.getElementById('backgroundMusic1');
        const music2 = document.getElementById('backgroundMusic2');
        const toggleBtn = document.getElementById('musicToggle');
        
        // SET VOLUME (30% - soft background)
        music1.volume = 0.3;
        music2.volume = 0.3;
        
        // Music state
        let currentMusic = music1;
        let isPlaying = false;
        let hasAutoPlayed = false;
        
        // ===========================================
        // LOCALSTORAGE STATE MANAGEMENT
        // ===========================================
        function saveMusicState() {
            const state = {
                isPlaying: isPlaying,
                currentSong: currentMusic === music1 ? 1 : 2,
                currentTime: currentMusic.currentTime,
                hasAutoPlayed: hasAutoPlayed,
                timestamp: Date.now()
            };
            localStorage.setItem('globalWeddingMusic', JSON.stringify(state));
        }
        
        function loadMusicState() {
            try {
                const saved = localStorage.getItem('globalWeddingMusic');
                if (saved) {
                    const state = JSON.parse(saved);
                    
                    // Restore playback state
                    isPlaying = state.isPlaying;
                    hasAutoPlayed = state.hasAutoPlayed || false;
                    
                    // Set current song
                    currentMusic = state.currentSong === 2 ? music2 : music1;
                    
                    // Restore playback position (within last 5 minutes)
                    if (state.currentTime && isPlaying) {
                        const timeSinceSave = (Date.now() - state.timestamp) / 1000;
                        if (timeSinceSave < 300) { // 5 minutes
                            currentMusic.currentTime = state.currentTime;
                        }
                    }
                    
                    console.log('Loaded music state:', state);
                    return true;
                }
            } catch (e) {
                console.log('Error loading music state:', e);
            }
            return false;
        }
        
        // ===========================================
        // SONG TRANSITION
        // ===========================================
        music1.addEventListener('ended', function() {
            console.log('Song 1 ended, playing Song 2');
            currentMusic = music2;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        music2.addEventListener('ended', function() {
            console.log('Song 2 ended, playing Song 1');
            currentMusic = music1;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        // ===========================================
        // UPDATE BUTTON VISUALS
        // ===========================================
        function updateButton() {
            if (isPlaying) {
                toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                toggleBtn.style.background = 'var(--gradient-bg)';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            }
        }
        
        // ===========================================
        // TOGGLE PLAY/PAUSE
        // ===========================================
        function togglePlayback() {
            if (isPlaying) {
                // PAUSE
                currentMusic.pause();
                isPlaying = false;
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                // PLAY
                currentMusic.play()
                    .then(() => {
                        isPlaying = true;
                        hasAutoPlayed = true;
                        toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        toggleBtn.style.background = 'var(--gradient-bg)';
                    })
                    .catch(error => {
                        console.log('Play error:', error);
                    });
            }
            saveMusicState();
        }
        
        // ===========================================
        // AUTO-PLAY FUNCTION
        // ===========================================
        function tryAutoPlay() {
            if (hasAutoPlayed) return;
            
            console.log('Attempting auto-play...');
            
            currentMusic.play()
                .then(() => {
                    isPlaying = true;
                    hasAutoPlayed = true;
                    updateButton();
                    saveMusicState();
                    
                    console.log('Auto-play successful!');
                    
                    // Show notification
                    showNotification('Music started automatically');
                    
                }).catch(error => {
                    console.log('Auto-play blocked:', error);
                    toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                    toggleBtn.style.background = 'var(--gray-medium)';
                    toggleBtn.title = "Click to play music";
                    
                    // Try on user interaction
                    const tryOnInteraction = () => {
                        if (!hasAutoPlayed) {
                            currentMusic.play()
                                .then(() => {
                                    isPlaying = true;
                                    hasAutoPlayed = true;
                                    updateButton();
                                    saveMusicState();
                                });
                        }
                    };
                    
                    // Try on first user interaction
                    document.addEventListener('click', tryOnInteraction, { once: true });
                    document.addEventListener('touchstart', tryOnInteraction, { once: true });
                });
        }
        
        // ===========================================
        // NOTIFICATION FUNCTION
        // ===========================================
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--gradient-bg);
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                font-size: 0.9rem;
                z-index: 1001;
                animation: fadeInOut 3s ease forwards;
                max-width: 200px;
                text-align: center;
            `;
            notification.innerHTML = `<i class="fas fa-music"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 3000);
        }
        
        // ===========================================
        // SETUP EVENT LISTENERS
        // ===========================================
        toggleBtn.addEventListener('click', togglePlayback);
        
        // ===========================================
        // INITIALIZE MUSIC PLAYER
        // ===========================================
        function initializeMusic() {
            // Load saved state from localStorage
            const hasSavedState = loadMusicState();
            
            // Update button based on loaded state
            updateButton();
            
            if (hasSavedState && isPlaying) {
                // Resume playback if it was playing
                console.log('Resuming playback...');
                currentMusic.play()
                    .then(() => {
                        console.log('Music resumed');
                    })
                    .catch(e => {
                        console.log('Resume failed:', e);
                        isPlaying = false;
                        updateButton();
                    });
            } else {
                // Try auto-play on first visit
                setTimeout(tryAutoPlay, 500);
            }
            
            // Save state regularly
            window.addEventListener('beforeunload', saveMusicState);
            setInterval(saveMusicState, 5000); // Save every 5 seconds
            
            // Listen for storage changes (other tabs)
            window.addEventListener('storage', function(event) {
                if (event.key === 'globalWeddingMusic') {
                    console.log('Music state updated from another tab');
                    loadMusicState();
                    updateButton();
                    
                    // If music should be playing, resume
                    if (isPlaying && currentMusic.paused) {
                        currentMusic.play()
                            .catch(e => console.log('Resume from other tab failed:', e));
                    }
                }
            });
        }
        
        // ===========================================
        // ERROR HANDLING
        // ===========================================
        music1.addEventListener('error', function() {
            console.log('Music file 1 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        music2.addEventListener('error', function() {
            console.log('Music file 2 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        // ===========================================
        // ADD ANIMATION STYLES
        // ===========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(10px); }
                20% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
        
        // ===========================================
        // START EVERYTHING
        // ===========================================
        initializeMusic();
    });
</script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - END -->
<!-- =========================================== -->
    
</body>
</html>
