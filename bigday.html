<!DOCTYPE html>
<html lang="en">
<head>
    <!-- META TAGS: Essential for SEO and mobile responsiveness -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Big Day - Guila & Jeric</title>
    
    <!-- EXTERNAL RESOURCES: Fonts and icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:wght@400;500;600&display=swap" rel="stylesheet">
    
    <!-- STYLESHEETS: Custom CSS files -->
    <link rel="stylesheet" href="style.css">
    
    <!-- GOOGLE MAPS API: For embedded maps -->
    <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap" async defer></script>
    <style>
        /* Additional styles specific to this page */
        .map-container {
            height: 300px;
            border-radius: 10px;
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .schedule-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
        }
        
        .schedule-table tr {
            border-bottom: 1px solid var(--gray-medium);
        }
        
        .schedule-table tr:last-child {
            border-bottom: none;
        }
        
        .schedule-table td {
            padding: 1rem 0;
        }
        
        .schedule-table .time {
            font-weight: 600;
            width: 120px;
        }
        
        .dress-code-section {
            background: var(--gradient-light);
            padding: 3rem;
            border-radius: 10px;
            margin: 3rem 0;
        }
    </style>
</head>
<body>
    <!-- NAVIGATION: Fixed at top of all pages -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="index.html" class="logo">G&J</a>
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="story.html">Our Story</a></li>
                <li><a href="bigday.html" class="active">The Big Day</a></li> <!-- Current page -->
                <li><a href="nuptials.html">Nuptials</a></li>
                <li><a href="greetings.html">Wish Greetings</a></li>
                <li><a href="rsvp.html">RSVP</a></li>
            </ul>
        </div>
    </nav>

    <!-- HERO SECTION: Full-screen banner -->
    <section class="hero">
        <div class="container">
            <div class="hero-content page-transition">
                <!-- PAGE HEADING -->
                <h1>The Big Day</h1>
                <p class="subtitle">September 5, 2026 | Kawit & Noveleta, Cavite</p>
                
                <!-- EVENT DETAILS: Two-column layout for ceremony and reception -->
                <div class="event-details">
                    
                    <!-- CEREMONY CARD -->
                    <div class="event-card">
                        <div class="event-icon">
                            <i class="fas fa-church"></i> <!-- Church icon -->
                        </div>
                        <h3>Ceremony</h3>
                        <p><strong>Time:</strong> 2:00 PM</p>
                        <p><strong>Location:</strong> Diocesan Shrine and Parish of St. Mary Magdalene</p>
                        <p><strong>Address:</strong> Poblacion, Kawit, Cavite</p>
                        
                        <!-- CEREMONY MAP -->
                        <div class="map-container" id="ceremonyMap">
                            <!-- Map will be loaded via JavaScript -->
                            <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: var(--gray-light);">
                                <p><i class="fas fa-map-marker-alt"></i> Map Loading...</p>
                            </div>
                        </div>
                        
                        <p>The ceremony will be held at this beautiful historical church. Please arrive by 1:30 PM for seating.</p>
                        <p><em>Note: The church has air conditioning, but we recommend bringing a light shawl.</em></p>
                    </div>
                    
                    <!-- RECEPTION CARD -->
                    <div class="event-card">
                        <div class="event-icon">
                            <i class="fas fa-glass-cheers"></i> <!-- Cheers icon -->
                        </div>
                        <h3>Reception</h3>
                        <p><strong>Time:</strong> 5:00 PM</p>
                        <p><strong>Location:</strong> Jardin De La Vida Pavillion</p>
                        <p><strong>Address:</strong> 466 EPZA Diversion Rd, Magdalo, Noveleta</p>
                        
                        <!-- RECEPTION MAP -->
                        <div class="map-container" id="receptionMap">
                            <!-- Map will be loaded via JavaScript -->
                            <div style="display: flex; align-items: center; justify-content: center; height: 100%; background: var(--gray-light);">
                                <p><i class="fas fa-map-marker-alt"></i> Map Loading...</p>
                            </div>
                        </div>
                        
                        <p>Cocktails will be served upon arrival followed by dinner, dancing, and celebrations!</p>
                        <p><em>Note: Reception will be held in a beautiful garden pavilion.</em></p>
                    </div>
                </div>
                
                <!-- DRESS CODE SECTION -->
                <div class="dress-code-section">
                    <h2 style="text-align: center;">Dress Code</h2>
                    <div style="text-align: center; margin-top: 2rem;">
                        <div style="font-size: 4rem; color: var(--black); margin-bottom: 1rem;">
                            <i class="fas fa-user-tie"></i> <!-- Dress code icon -->
                        </div>
                        <h3>Elegant Black Attire</h3>
                        <p>We request our guests to wear elegant black attire to complement our minimalist theme.</p>
                        
                        <!-- DRESS CODE DETAILS -->
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
                            <div>
                                <h4>For Gentlemen</h4>
                                <ul style="list-style: none; text-align: left; padding-left: 0;">
                                    <li>âœ“ Black suit or tuxedo</li>
                                    <li>âœ“ Black barong tagalog with black pants</li>
                                    <li>âœ“ Black dress shoes</li>
                                    <li>âœ“ Optional: Black tie or bow tie</li>
                                </ul>
                            </div>
                            <div>
                                <h4>For Ladies</h4>
                                <ul style="list-style: none; text-align: left; padding-left: 0;">
                                    <li>âœ“ Black formal dress or gown</li>
                                    <li>âœ“ Cocktail dress in black</li>
                                    <li>âœ“ Elegant separates in black</li>
                                    <li>âœ“ Comfortable yet stylish shoes</li>
                                </ul>
                            </div>
                        </div>
                        
                        <p style="margin-top: 2rem; font-style: italic; color: var(--gray-dark);">
                            <i class="fas fa-info-circle"></i> Please note: The ceremony will be in an air-conditioned church, and the reception will be in a garden pavilion. Consider comfortable footwear for grass surfaces.
                        </p>
                    </div>
                </div>
                
                <!-- PARKING INSTRUCTIONS -->
                <div style="margin: 4rem 0;">
                    <h2 style="text-align: center;">Parking Instructions</h2>
                    <div class="event-details">
                        
                        <!-- CHURCH PARKING -->
                        <div class="event-card">
                            <div class="event-icon">
                                <i class="fas fa-parking"></i> <!-- Parking icon -->
                            </div>
                            <h3>Church Parking</h3>
                            <p>The church has limited parking available. We recommend carpooling if possible.</p>
                            <p><strong>Alternative Parking:</strong> Public parking lot adjacent to Kawit Town Plaza (5-minute walk)</p>
                            <p><strong>Security:</strong> Will be present to assist with parking arrangements</p>
                            <p><strong>Note:</strong> Early arrival is recommended for parking convenience</p>
                        </div>
                        
                        <!-- RECEPTION PARKING -->
                        <div class="event-card">
                            <div class="event-icon">
                                <i class="fas fa-car"></i> <!-- Car icon -->
                            </div>
                            <h3>Reception Parking</h3>
                            <p>Ample parking available at Jardin De La Vida Pavillion.</p>
                            <p><strong>Valet Service:</strong> Complimentary valet parking will be provided</p>
                            <p><strong>Shuttle Service:</strong> Available from church to reception venue (departs at 4:30 PM)</p>
                            <p><strong>Note:</strong> Designated drivers will be available upon request</p>
                        </div>
                    </div>
                </div>
                
                <!-- DAY SCHEDULE -->
                <div style="margin: 4rem 0; text-align: center;">
                    <h2>Day Schedule</h2>
                    <p style="margin-bottom: 2rem;">Here's the timeline for our special day</p>
                    
                    <!-- SCHEDULE TABLE -->
                    <table class="schedule-table">
                        <tr>
                            <td class="time">1:30 PM</td>
                            <td>Guest Arrival at Church</td>
                        </tr>
                        <tr>
                            <td class="time">2:00 PM</td>
                            <td><strong>Wedding Ceremony</strong> begins</td>
                        </tr>
                        <tr>
                            <td class="time">3:30 PM</td>
                            <td>Photos & Congratulations at Church</td>
                        </tr>
                        <tr>
                            <td class="time">4:30 PM</td>
                            <td>Shuttle Service to Reception Venue</td>
                        </tr>
                        <tr>
                            <td class="time">5:00 PM</td>
                            <td><strong>Reception</strong> begins with Cocktails</td>
                        </tr>
                        <tr>
                            <td class="time">6:00 PM</td>
                            <td>Grand Entrance of Newlyweds</td>
                        </tr>
                        <tr>
                            <td class="time">6:30 PM</td>
                            <td>Dinner is served</td>
                        </tr>
                        <tr>
                            <td class="time">7:30 PM</td>
                            <td>Program & Speeches</td>
                        </tr>
                        <tr>
                            <td class="time">8:30 PM</td>
                            <td>First Dance & Party Begins</td>
                        </tr>
                        <tr>
                            <td class="time">9:30 PM</td>
                            <td>Cake Cutting & Dessert</td>
                        </tr>
                        <tr>
                            <td class="time">10:00 PM</td>
                            <td>Bouquet & Garter Toss</td>
                        </tr>
                        <tr>
                            <td class="time">10:30 PM</td>
                            <td>Send-off & Farewell</td>
                        </tr>
                    </table>
                </div>
                
                <!-- ADDITIONAL INFORMATION -->
                <div style="background: var(--gray-light); padding: 2rem; border-radius: 10px; margin-top: 3rem;">
                    <h3 style="text-align: center;">Additional Information</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 2rem; margin-top: 1.5rem;">
                        <div style="text-align: center;">
                            <i class="fas fa-utensils" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <p><strong>Dinner</strong><br>Buffet-style with Filipino and International cuisine</p>
                        </div>
                        <div style="text-align: center;">
                            <i class="fas fa-music" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <p><strong>Entertainment</strong><br>Live band and DJ for dancing</p>
                        </div>
                        <div style="text-align: center;">
                            <i class="fas fa-child" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <p><strong>Kids</strong><br>Children are welcome! Special kids' menu available</p>
                        </div>
                        <div style="text-align: center;">
                            <i class="fas fa-gift" style="font-size: 2rem; margin-bottom: 1rem; color: var(--black);"></i>
                            <p><strong>Gifts</strong><br>Gift table will be available at reception</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER: Consistent across all pages -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Guila & Jeric</h3>
                    <p>September 5, 2026</p>
                    <p>Kawit & Noveleta, Cavite</p>
                </div>
                <div class="footer-section">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="story.html">Our Love Story</a></li>
                        <li><a href="nuptials.html">Wedding Party</a></li>
                        <li><a href="greetings.html">Wish Greetings</a></li>
                        <li><a href="rsvp.html">RSVP</a></li>
                    </ul>
                </div>

                <div class="footer-section">
                    <h3>Contact</h3>
                    <p>For any questions, please contact:</p>
                    <p><a href="tel:+639123456789" class="phone-link" aria-label="Call Guila">Guila: +63 912 345 6789</a></p>
                    <p><a href="tel:+639876543210" class="phone-link" aria-label="Call Jeric">Jeric: +63 987 654 3210</a></p>
                    <p><a href="https://www.messenger.com/t/jericgregorio19" class="phone-link" target="_blank" rel="noopener noreferrer" aria-label="Message Guila and Jeric on Messenger">ðŸ’¬ Message us on Messenger</a></p>
                </div>
            </div>

    <style>
        /* Make phone numbers look like regular text on all devices */
        .phone-link {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }
        .phone-link:hover,
        .phone-link:focus {
            text-decoration: none;
            color: inherit;
        }
    </style>

            </div>
            <div class="copyright">
                <p>&copy; 2026 Guila & Jeric Wedding. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- JAVASCRIPT: Custom scripts and Google Maps initialization -->
    <script src="script.js"></script>
    <script>
        // ============================================
        // GOOGLE MAPS INITIALIZATION
        // Loads maps for ceremony and reception locations
        // ============================================
        function initMap() {
            // Ceremony location coordinates (approximate for Kawit Church)
            const ceremonyLocation = { lat: 14.4441, lng: 120.9019 };
            
            // Reception location coordinates (approximate for Noveleta)
            const receptionLocation = { lat: 14.4294, lng: 120.8797 };
            
            // Create ceremony map
            const ceremonyMap = new google.maps.Map(document.getElementById('ceremonyMap'), {
                zoom: 15,
                center: ceremonyLocation,
                styles: [
                    {
                        featureType: "all",
                        elementType: "geometry",
                        stylers: [{ color: "#f5f5f5" }]
                    },
                    {
                        featureType: "all",
                        elementType: "labels.text.fill",
                        stylers: [{ color: "#333333" }]
                    }
                ]
            });
            
            // Add marker for ceremony location
            new google.maps.Marker({
                position: ceremonyLocation,
                map: ceremonyMap,
                title: "Diocesan Shrine and Parish of St. Mary Magdalene",
                icon: {
                    url: "https://maps.google.com/mapfiles/ms/icons/red-dot.png"
                }
            });
            
            // Create reception map
            const receptionMap = new google.maps.Map(document.getElementById('receptionMap'), {
                zoom: 15,
                center: receptionLocation,
                styles: [
                    {
                        featureType: "all",
                        elementType: "geometry",
                        stylers: [{ color: "#f5f5f5" }]
                    },
                    {
                        featureType: "all",
                        elementType: "labels.text.fill",
                        stylers: [{ color: "#333333" }]
                    }
                ]
            });
            
            // Add marker for reception location
            new google.maps.Marker({
                position: receptionLocation,
                map: receptionMap,
                title: "Jardin De La Vida Pavillion",
                icon: {
                    url: "https://maps.google.com/mapfiles/ms/icons/blue-dot.png"
                }
            });
        }
        
        // ============================================
        // FALLBACK IF GOOGLE MAPS FAILS TO LOAD
        // ============================================
        window.onload = function() {
            // Check if maps loaded successfully after 5 seconds
            setTimeout(function() {
                const ceremonyMapDiv = document.getElementById('ceremonyMap');
                const receptionMapDiv = document.getElementById('receptionMap');
                
                // If maps failed to load, show static images
                if (ceremonyMapDiv && ceremonyMapDiv.innerHTML.includes('Map Loading')) {
                    ceremonyMapDiv.innerHTML = `
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: var(--gray-light); padding: 1rem;">
                            <i class="fas fa-map-marker-alt" style="font-size: 3rem; margin-bottom: 1rem; color: var(--gray-dark);"></i>
                            <p><strong>Diocesan Shrine and Parish of St. Mary Magdalene</strong></p>
                            <p>Poblacion, Kawit, Cavite</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem;">
                                <a href="https://maps.google.com/?q=Diocesan+Shrine+and+Parish+of+St+Mary+Magdalene+Kawit+Cavite" 
                                   target="_blank" 
                                   style="color: var(--black); text-decoration: underline;">
                                    Open in Google Maps
                                </a>
                            </p>
                        </div>
                    `;
                }
                
                if (receptionMapDiv && receptionMapDiv.innerHTML.includes('Map Loading')) {
                    receptionMapDiv.innerHTML = `
                        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; background: var(--gray-light); padding: 1rem;">
                            <i class="fas fa-map-marker-alt" style="font-size: 3rem; margin-bottom: 1rem; color: var(--gray-dark);"></i>
                            <p><strong>Jardin De La Vida Pavillion</strong></p>
                            <p>466 EPZA Diversion Rd, Magdalo, Noveleta</p>
                            <p style="margin-top: 1rem; font-size: 0.9rem;">
                                <a href="https://maps.google.com/?q=Jardin+De+La+Vida+Pavillion+Noveleta+Cavite" 
                                   target="_blank" 
                                   style="color: var(--black); text-decoration: underline;">
                                    Open in Google Maps
                                </a>
                            </p>
                        </div>
                    `;
                }
            }, 5000);
        };
    </script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - PLAYS ACROSS ALL TABS -->
<!-- =========================================== -->

<!-- Add this JUST BEFORE the closing </body> tag in EVERY HTML FILE -->

<!-- Music Player -->
<div id="musicPlayer" style="position: fixed; bottom: 20px; right: 20px; z-index: 1000;">
    <!-- Audio Elements for TWO SONGS -->
    <audio id="backgroundMusic1" preload="auto">
        <!-- CHANGE THIS TO YOUR FIRST MP3 FILENAME -->
        <source src="story-song2.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <audio id="backgroundMusic2" preload="auto">
        <!-- CHANGE THIS TO YOUR SECOND MP3 FILENAME -->
        <source src="story-song1.mp3" type="audio/mpeg">
        Your browser does not support audio.
    </audio>
    
    <!-- Control Button - Same as your design -->
    <button id="musicToggle" style="
        width: 50px; 
        height: 50px; 
        border-radius: 50%;
        background: var(--gradient-bg); 
        color: white;
        border: none; 
        cursor: pointer; 
        font-size: 1.2rem;
        display: flex; 
        align-items: center; 
        justify-content: center;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        transition: all 0.3s ease;
    ">
        <i class="fas fa-music"></i>
    </button>
</div>

<!-- Music Script - UPDATED FOR CROSS-TAB PLAYBACK -->
<script>
    // GLOBAL MUSIC MANAGER - PLAYS ACROSS ALL TABS
    document.addEventListener('DOMContentLoaded', function() {
        // Get audio elements
        const music1 = document.getElementById('backgroundMusic1');
        const music2 = document.getElementById('backgroundMusic2');
        const toggleBtn = document.getElementById('musicToggle');
        
        // SET VOLUME (30% - soft background)
        music1.volume = 0.3;
        music2.volume = 0.3;
        
        // Music state
        let currentMusic = music1;
        let isPlaying = false;
        let hasAutoPlayed = false;
        
        // ===========================================
        // LOCALSTORAGE STATE MANAGEMENT
        // ===========================================
        function saveMusicState() {
            const state = {
                isPlaying: isPlaying,
                currentSong: currentMusic === music1 ? 1 : 2,
                currentTime: currentMusic.currentTime,
                hasAutoPlayed: hasAutoPlayed,
                timestamp: Date.now()
            };
            localStorage.setItem('globalWeddingMusic', JSON.stringify(state));
        }
        
        function loadMusicState() {
            try {
                const saved = localStorage.getItem('globalWeddingMusic');
                if (saved) {
                    const state = JSON.parse(saved);
                    
                    // Restore playback state
                    isPlaying = state.isPlaying;
                    hasAutoPlayed = state.hasAutoPlayed || false;
                    
                    // Set current song
                    currentMusic = state.currentSong === 2 ? music2 : music1;
                    
                    // Restore playback position (within last 5 minutes)
                    if (state.currentTime && isPlaying) {
                        const timeSinceSave = (Date.now() - state.timestamp) / 1000;
                        if (timeSinceSave < 300) { // 5 minutes
                            currentMusic.currentTime = state.currentTime;
                        }
                    }
                    
                    console.log('Loaded music state:', state);
                    return true;
                }
            } catch (e) {
                console.log('Error loading music state:', e);
            }
            return false;
        }
        
        // ===========================================
        // SONG TRANSITION
        // ===========================================
        music1.addEventListener('ended', function() {
            console.log('Song 1 ended, playing Song 2');
            currentMusic = music2;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        music2.addEventListener('ended', function() {
            console.log('Song 2 ended, playing Song 1');
            currentMusic = music1;
            currentMusic.currentTime = 0;
            currentMusic.play()
                .then(() => {
                    saveMusicState();
                })
                .catch(e => console.log('Play error:', e));
        });
        
        // ===========================================
        // UPDATE BUTTON VISUALS
        // ===========================================
        function updateButton() {
            if (isPlaying) {
                toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                toggleBtn.style.background = 'var(--gradient-bg)';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            }
        }
        
        // ===========================================
        // TOGGLE PLAY/PAUSE
        // ===========================================
        function togglePlayback() {
            if (isPlaying) {
                // PAUSE
                currentMusic.pause();
                isPlaying = false;
                toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                toggleBtn.style.background = 'var(--gray-medium)';
            } else {
                // PLAY
                currentMusic.play()
                    .then(() => {
                        isPlaying = true;
                        hasAutoPlayed = true;
                        toggleBtn.innerHTML = '<i class="fas fa-pause"></i>';
                        toggleBtn.style.background = 'var(--gradient-bg)';
                    })
                    .catch(error => {
                        console.log('Play error:', error);
                    });
            }
            saveMusicState();
        }
        
        // ===========================================
        // AUTO-PLAY FUNCTION
        // ===========================================
        function tryAutoPlay() {
            if (hasAutoPlayed) return;
            
            console.log('Attempting auto-play...');
            
            currentMusic.play()
                .then(() => {
                    isPlaying = true;
                    hasAutoPlayed = true;
                    updateButton();
                    saveMusicState();
                    
                    console.log('Auto-play successful!');
                    
                    // Show notification
                    showNotification('Music started automatically');
                    
                }).catch(error => {
                    console.log('Auto-play blocked:', error);
                    toggleBtn.innerHTML = '<i class="fas fa-play"></i>';
                    toggleBtn.style.background = 'var(--gray-medium)';
                    toggleBtn.title = "Click to play music";
                    
                    // Try on user interaction
                    const tryOnInteraction = () => {
                        if (!hasAutoPlayed) {
                            currentMusic.play()
                                .then(() => {
                                    isPlaying = true;
                                    hasAutoPlayed = true;
                                    updateButton();
                                    saveMusicState();
                                });
                        }
                    };
                    
                    // Try on first user interaction
                    document.addEventListener('click', tryOnInteraction, { once: true });
                    document.addEventListener('touchstart', tryOnInteraction, { once: true });
                });
        }
        
        // ===========================================
        // NOTIFICATION FUNCTION
        // ===========================================
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                bottom: 80px;
                right: 20px;
                background: var(--gradient-bg);
                color: white;
                padding: 10px 15px;
                border-radius: 8px;
                font-size: 0.9rem;
                z-index: 1001;
                animation: fadeInOut 3s ease forwards;
                max-width: 200px;
                text-align: center;
            `;
            notification.innerHTML = `<i class="fas fa-music"></i> ${message}`;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.style.animation = 'fadeOut 0.5s ease forwards';
                    setTimeout(() => notification.remove(), 500);
                }
            }, 3000);
        }
        
        // ===========================================
        // SETUP EVENT LISTENERS
        // ===========================================
        toggleBtn.addEventListener('click', togglePlayback);
        
        // ===========================================
        // INITIALIZE MUSIC PLAYER
        // ===========================================
        function initializeMusic() {
            // Load saved state from localStorage
            const hasSavedState = loadMusicState();
            
            // Update button based on loaded state
            updateButton();
            
            if (hasSavedState && isPlaying) {
                // Resume playback if it was playing
                console.log('Resuming playback...');
                currentMusic.play()
                    .then(() => {
                        console.log('Music resumed');
                    })
                    .catch(e => {
                        console.log('Resume failed:', e);
                        isPlaying = false;
                        updateButton();
                    });
            } else {
                // Try auto-play on first visit
                setTimeout(tryAutoPlay, 500);
            }
            
            // Save state regularly
            window.addEventListener('beforeunload', saveMusicState);
            setInterval(saveMusicState, 5000); // Save every 5 seconds
            
            // Listen for storage changes (other tabs)
            window.addEventListener('storage', function(event) {
                if (event.key === 'globalWeddingMusic') {
                    console.log('Music state updated from another tab');
                    loadMusicState();
                    updateButton();
                    
                    // If music should be playing, resume
                    if (isPlaying && currentMusic.paused) {
                        currentMusic.play()
                            .catch(e => console.log('Resume from other tab failed:', e));
                    }
                }
            });
        }
        
        // ===========================================
        // ERROR HANDLING
        // ===========================================
        music1.addEventListener('error', function() {
            console.log('Music file 1 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        music2.addEventListener('error', function() {
            console.log('Music file 2 not found');
            toggleBtn.innerHTML = '<i class="fas fa-exclamation-triangle"></i>';
            toggleBtn.style.background = '#dc3545';
            toggleBtn.title = 'Music file not found';
        });
        
        // ===========================================
        // ADD ANIMATION STYLES
        // ===========================================
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInOut {
                0% { opacity: 0; transform: translateY(10px); }
                20% { opacity: 1; transform: translateY(0); }
                80% { opacity: 1; transform: translateY(0); }
                100% { opacity: 0; transform: translateY(-10px); }
            }
            @keyframes fadeOut {
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
        
        // ===========================================
        // START EVERYTHING
        // ===========================================
        initializeMusic();
    });
</script>

<!-- =========================================== -->
<!-- GLOBAL BACKGROUND MUSIC - END -->
<!-- =========================================== -->
</body>
</html>
